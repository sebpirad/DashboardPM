<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Samsung TV Video Test</title>
<style>
  body { margin: 0; background: #111; color: #fff; font-family: Arial, sans-serif; padding: 20px; }
  h1 { color: #FFD700; }
  .test { margin: 20px 0; padding: 15px; background: #222; border-radius: 8px; }
  .test h2 { margin: 0 0 10px; }
  .status { font-size: 18px; padding: 5px 10px; border-radius: 4px; margin: 5px 0; }
  .ok { background: #1a4d1a; color: #4f4; }
  .fail { background: #4d1a1a; color: #f44; }
  .wait { background: #4d4d1a; color: #ff4; }
  video { max-width: 100%; height: 200px; background: #333; border: 2px solid #444; }
  button { padding: 10px 20px; font-size: 16px; margin: 5px; cursor: pointer; background: #FFD700; border: none; border-radius: 5px; }
</style>
</head>
<body>
<h1>Samsung TV Video Test</h1>
<p>Denne side tester om Samsung TV kan afspille video.</p>

<div class="test">
  <h2>Test 1: Baseline 720p (ultra-kompatibel)</h2>
  <video id="v1" src="celebration_baseline.mp4" muted playsinline width="400" height="225"></video>
  <div id="s1" class="status wait">Venter...</div>
  <button onclick="playV('v1','s1')">PLAY</button>
  <button onclick="autoV('v1','s1')">AUTOPLAY TEST</button>
</div>

<div class="test">
  <h2>Test 2: Main 1080p (nuværende)</h2>
  <video id="v2" src="celebration.mp4" muted playsinline width="400" height="225"></video>
  <div id="s2" class="status wait">Venter...</div>
  <button onclick="playV('v2','s2')">PLAY</button>
  <button onclick="autoV('v2','s2')">AUTOPLAY TEST</button>
</div>

<div class="test">
  <h2>Test 3: Autoplay muted loop (ingen klik)</h2>
  <video id="v3" src="celebration_baseline.mp4" muted playsinline autoplay loop width="400" height="225"></video>
  <div id="s3" class="status wait">Tjekker autoplay...</div>
</div>

<div class="test">
  <h2>Test 4: YouTube embed (reference)</h2>
  <iframe width="400" height="225" src="https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&mute=1" frameborder="0" allow="autoplay"></iframe>
  <div class="status ok">YouTube embed til sammenligning</div>
</div>

<script>
function playV(vid, sid) {
  var v = document.getElementById(vid);
  var s = document.getElementById(sid);
  s.textContent = 'Forsøger play()...';
  s.className = 'status wait';
  v.play().then(function() {
    s.textContent = 'VIRKER! Video spiller. readyState=' + v.readyState + ' duration=' + v.duration;
    s.className = 'status ok';
  }).catch(function(e) {
    s.textContent = 'FEJL: ' + e.name + ': ' + e.message;
    s.className = 'status fail';
  });
}

function autoV(vid, sid) {
  var v = document.getElementById(vid);
  var s = document.getElementById(sid);
  v.muted = true;
  v.setAttribute('autoplay', '');
  v.load();
  s.textContent = 'Sat autoplay + load()... venter 2s';
  s.className = 'status wait';
  setTimeout(function() {
    if (!v.paused && v.currentTime > 0) {
      s.textContent = 'AUTOPLAY VIRKER! currentTime=' + v.currentTime.toFixed(1);
      s.className = 'status ok';
    } else {
      s.textContent = 'AUTOPLAY FEJLET. paused=' + v.paused + ' currentTime=' + v.currentTime + ' readyState=' + v.readyState + ' error=' + (v.error ? v.error.code : 'none');
      s.className = 'status fail';
    }
  }, 2000);
}

// Check Test 3 autoplay after 3 seconds
setTimeout(function() {
  var v3 = document.getElementById('v3');
  var s3 = document.getElementById('s3');
  if (!v3.paused && v3.currentTime > 0) {
    s3.textContent = 'AUTOPLAY VIRKER! currentTime=' + v3.currentTime.toFixed(1);
    s3.className = 'status ok';
  } else {
    s3.textContent = 'AUTOPLAY FEJLET. paused=' + v3.paused + ' currentTime=' + v3.currentTime + ' readyState=' + v3.readyState + ' networkState=' + v3.networkState + ' error=' + (v3.error ? v3.error.code : 'none');
    s3.className = 'status fail';
  }
}, 3000);

// Log all video events
['v1','v2','v3'].forEach(function(id) {
  var v = document.getElementById(id);
  ['loadeddata','canplay','playing','error','stalled'].forEach(function(evt) {
    v.addEventListener(evt, function() {
      console.log(id + ': ' + evt + ' readyState=' + v.readyState);
    });
  });
});
</script>
</body>
</html>
